# MongoDB Configuration - Use environment variable for production
# 
# For MongoDB Atlas (Recommended):
# Format: mongodb+srv://username:password@cluster.mongodb.net/database?retryWrites=true&w=majority
# Example: mongodb+srv://myuser:mypassword@cluster0.xxxxx.mongodb.net/sara?retryWrites=true&w=majority
# 
# For Docker: mongodb://mongo:27017/sara
# For local: mongodb://localhost:27017/sara
#
# IMPORTANT: Set MONGODB_URI environment variable with your Atlas connection string
spring.data.mongodb.uri=${MONGODB_URI:mongodb://localhost:27017/sara}

# CORS configuration - Use environment variable for production
spring.web.cors.allowed-origins=${CORS_ALLOWED_ORIGINS:http://localhost:4200}
spring.web.cors.allowed-methods=GET,POST,PUT,DELETE,OPTIONS
spring.web.cors.allowed-headers=*
spring.web.cors.allow-credentials=true

# JWT Secret - MUST be set via environment variable in production
# Generate a strong secret: openssl rand -base64 32
jwt.secret=${JWT_SECRET:YourSuperLongSecretKeyAtLeast32CharactersLongChangeThisInProduction}

# Server Configuration
server.tomcat.max-http-post-size=5242880
server.tomcat.max-swallow-size=5242880

# HTTP Encoding Configuration
spring.http.encoding.charset=UTF-8
spring.http.encoding.enabled=true
spring.http.encoding.force=true

# Allow circular references (consider refactoring to remove this)
spring.main.allow-circular-references=true

# Data Initialization
# Set these to create default admin user on first startup
# WARNING: Disable this after creating the admin user!
app.init.admin.enabled=${INIT_ADMIN_ENABLED:false}
app.init.admin.username=${INIT_ADMIN_USERNAME:admin}
app.init.admin.password=${INIT_ADMIN_PASSWORD:}
